<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>微交互测试页面</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/micro-interactions.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <style>
        .test-section {
            padding: var(--space-16) 0;
            border-bottom: 1px solid var(--color-border);
        }
        
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-8);
            margin-top: var(--space-8);
        }
        
        .test-item {
            padding: var(--space-6);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-lg);
            background: var(--color-bg-secondary);
        }
        
        .test-item h3 {
            margin-bottom: var(--space-4);
            color: var(--primary-600);
        }
        
        .test-buttons {
            display: flex;
            gap: var(--space-4);
            flex-wrap: wrap;
            margin-top: var(--space-4);
        }
        
        .demo-card {
            background: white;
            padding: var(--space-6);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-sm);
            margin: var(--space-4) 0;
            cursor: pointer;
        }
        
        .demo-form {
            max-width: 400px;
        }
        
        .progress-demo {
            margin: var(--space-4) 0;
        }
        
        .progress-bar {
            height: 8px;
            background: var(--gray-200);
            border-radius: var(--radius-full);
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, var(--primary-500), var(--secondary-500));
            border-radius: var(--radius-full);
            transition: width var(--duration-500) var(--ease-out);
            position: relative;
        }
        
        .counter-demo {
            font-size: var(--text-4xl);
            font-weight: var(--font-bold);
            color: var(--primary-600);
            text-align: center;
            margin: var(--space-4) 0;
        }
        
        .typewriter-demo {
            font-size: var(--text-xl);
            font-family: var(--font-mono);
            color: var(--primary-600);
            margin: var(--space-4) 0;
        }
        
        .social-demo {
            display: flex;
            gap: var(--space-4);
            justify-content: center;
            margin: var(--space-4) 0;
        }
        
        .filter-demo {
            display: flex;
            gap: var(--space-2);
            flex-wrap: wrap;
            margin: var(--space-4) 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <header style="text-align: center; padding: var(--space-16) 0;">
            <h1>微交互和细节优化测试</h1>
            <p>测试各种微交互效果和用户体验增强功能</p>
        </header>

        <!-- 1. 按钮微交互测试 -->
        <section class="test-section">
            <h2>1. 按钮微交互效果</h2>
            <div class="test-grid">
                <div class="test-item">
                    <h3>基础按钮效果</h3>
                    <p>测试按钮的悬停、点击和波纹效果</p>
                    <div class="test-buttons">
                        <button class="btn btn-primary">主要按钮</button>
                        <button class="btn btn-secondary">次要按钮</button>
                        <button class="btn btn-outline">轮廓按钮</button>
                    </div>
                </div>
                
                <div class="test-item">
                    <h3>磁性按钮效果</h3>
                    <p>鼠标靠近时按钮会被"吸引"</p>
                    <div class="test-buttons">
                        <button class="btn btn-primary hero-cta-primary">磁性按钮</button>
                    </div>
                </div>
                
                <div class="test-item">
                    <h3>状态反馈按钮</h3>
                    <p>测试成功、错误和加载状态</p>
                    <div class="test-buttons">
                        <button class="btn btn-primary" onclick="testSuccess(this)">成功测试</button>
                        <button class="btn btn-primary" onclick="testError(this)">错误测试</button>
                        <button class="btn btn-primary" onclick="testLoading(this)">加载测试</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- 2. 卡片微交互测试 -->
        <section class="test-section">
            <h2>2. 卡片悬停效果</h2>
            <div class="test-grid">
                <div class="demo-card post-card">
                    <div class="post-image">
                        <i class="fas fa-code"></i>
                    </div>
                    <div class="post-content">
                        <span class="post-category">技术</span>
                        <h3 class="post-title">测试文章标题</h3>
                        <p class="post-excerpt">这是一个测试文章的摘要，用来展示卡片的悬停效果。</p>
                        <div class="post-meta">
                            <span><i class="fas fa-clock"></i> 5 分钟阅读</span>
                            <span><i class="fas fa-calendar"></i> 2024-01-01</span>
                        </div>
                    </div>
                </div>
                
                <div class="demo-card contact-item">
                    <i class="fas fa-envelope"></i>
                    <div>
                        <h3>联系信息</h3>
                        <p>测试联系项目的悬停效果</p>
                    </div>
                </div>
                
                <div class="demo-card hero-stat">
                    <span class="hero-stat-number">100+</span>
                    <span class="hero-stat-label">测试数据</span>
                </div>
            </div>
        </section>

        <!-- 3. 表单微交互测试 -->
        <section class="test-section">
            <h2>3. 表单验证和反馈</h2>
            <div class="test-grid">
                <div class="test-item">
                    <h3>实时验证</h3>
                    <form class="demo-form">
                        <div class="form-field">
                            <input type="text" class="form-input" placeholder="请输入姓名" required>
                            <label class="form-label">姓名</label>
                            <i class="form-icon fas fa-check"></i>
                            <div class="form-message"></div>
                        </div>
                        
                        <div class="form-field">
                            <input type="email" class="form-input" placeholder="请输入邮箱" required>
                            <label class="form-label">邮箱</label>
                            <i class="form-icon fas fa-check"></i>
                            <div class="form-message"></div>
                        </div>
                        
                        <div class="form-field">
                            <textarea class="form-textarea" placeholder="请输入留言" rows="3" required data-max-length="100"></textarea>
                            <label class="form-label">留言</label>
                            <i class="form-icon fas fa-check"></i>
                            <div class="form-message"></div>
                            <div class="form-counter">
                                <span class="current">0</span>/<span class="max">100</span>
                            </div>
                            <div class="form-tooltip" data-tooltip="最多输入100个字符">?</div>
                        </div>
                    </form>
                </div>
                
                <div class="test-item">
                    <h3>焦点状态测试</h3>
                    <p>使用Tab键测试焦点导航</p>
                    <div class="test-buttons">
                        <button class="btn btn-primary">按钮1</button>
                        <button class="btn btn-secondary">按钮2</button>
                        <button class="btn btn-outline">按钮3</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- 4. 动画效果测试 -->
        <section class="test-section">
            <h2>4. 动画效果测试</h2>
            <div class="test-grid">
                <div class="test-item">
                    <h3>进度条动画</h3>
                    <div class="progress-demo">
                        <div class="progress-bar" data-percentage="75">
                            <div class="progress-fill"></div>
                        </div>
                    </div>
                    <button class="btn btn-primary" onclick="animateProgress()">开始动画</button>
                </div>
                
                <div class="test-item">
                    <h3>数字计数动画</h3>
                    <div class="counter-demo hero-stat-number">1000+</div>
                    <button class="btn btn-primary" onclick="animateCounter()">开始计数</button>
                </div>
                
                <div class="test-item">
                    <h3>打字机效果</h3>
                    <div class="typewriter-demo typewriter">console.log('Hello, World!');</div>
                    <button class="btn btn-primary" onclick="animateTypewriter()">开始打字</button>
                </div>
            </div>
        </section>

        <!-- 5. 社交链接和过滤器测试 -->
        <section class="test-section">
            <h2>5. 交互元素测试</h2>
            <div class="test-grid">
                <div class="test-item">
                    <h3>社交链接效果</h3>
                    <div class="social-demo">
                        <a href="#" class="social-link"><i class="fab fa-github"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-linkedin"></i></a>
                        <a href="mailto:test@example.com" class="social-link"><i class="fas fa-envelope"></i></a>
                    </div>
                </div>
                
                <div class="test-item">
                    <h3>过滤按钮效果</h3>
                    <div class="filter-demo">
                        <button class="filter-btn active" onclick="toggleFilter(this)">全部</button>
                        <button class="filter-btn" onclick="toggleFilter(this)">技术</button>
                        <button class="filter-btn" onclick="toggleFilter(this)">生活</button>
                        <button class="filter-btn" onclick="toggleFilter(this)">思考</button>
                    </div>
                </div>
                
                <div class="test-item">
                    <h3>技术图标效果</h3>
                    <div class="social-demo">
                        <div class="tech-icon"><i class="fab fa-js-square"></i></div>
                        <div class="tech-icon"><i class="fab fa-react"></i></div>
                        <div class="tech-icon"><i class="fab fa-node-js"></i></div>
                        <div class="tech-icon"><i class="fab fa-python"></i></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 6. 音效控制测试 -->
        <section class="test-section">
            <h2>6. 音效反馈测试</h2>
            <div class="test-grid">
                <div class="test-item">
                    <h3>音效控制</h3>
                    <p>右下角的音效按钮可以控制音效开关</p>
                    <div class="test-buttons">
                        <button class="btn btn-primary" onclick="testSound('click')">点击音效</button>
                        <button class="btn btn-secondary" onclick="testSound('success')">成功音效</button>
                        <button class="btn btn-outline" onclick="testSound('error')">错误音效</button>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- 脚本 -->
    <script src="js/micro-interactions.js"></script>
    <script>
        // 测试函数
        function testSuccess(btn) {
            if (window.microInteractions) {
                window.microInteractions.showSuccessFeedback(btn, '操作成功');
            }
        }
        
        function testError(btn) {
            if (window.microInteractions) {
                window.microInteractions.showErrorFeedback(btn, '操作失败');
            }
        }
        
        function testLoading(btn) {
            if (window.microInteractions) {
                window.microInteractions.showLoadingState(btn);
                setTimeout(() => {
                    window.microInteractions.hideLoadingState(btn);
                }, 2000);
            }
        }
        
        function animateProgress() {
            const progressBar = document.querySelector('.progress-bar');
            const progressFill = progressBar.querySelector('.progress-fill');
            progressFill.style.width = '0%';
            setTimeout(() => {
                progressFill.style.width = '75%';
            }, 100);
        }
        
        function animateCounter() {
            const counter = document.querySelector('.counter-demo');
            if (window.microInteractions) {
                window.microInteractions.animateCounter(counter);
            }
        }
        
        function animateTypewriter() {
            const typewriter = document.querySelector('.typewriter-demo');
            typewriter.textContent = '';
            typewriter.style.width = '0';
            if (window.microInteractions) {
                window.microInteractions.setupTypewriterEffect();
            }
        }
        
        function toggleFilter(btn) {
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
        }
        
        function testSound(soundType) {
            if (window.microInteractions) {
                window.microInteractions.playSound(soundType);
            }
        }
        
        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', () => {
            console.log('微交互测试页面已加载');
            
            // 延迟启动进度条动画
            setTimeout(() => {
                animateProgress();
            }, 1000);
        });
    </script>
</body>
</html>